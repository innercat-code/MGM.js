<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../MGM.js"></script>
</head>
<body>
    <script>
        const Mgm = new MGM({
            name: 'Ball',
            icon: 'Images/box1.png',
            bgCanvas: '#acf',
            ratio: 1.5,
            vars: {
                points: 0,
            }
        })

        Mgm.object.box = {
            pic: 'Images/box1.png',
        }
        Mgm.object.box.update = th => {
            th.wasd(3)
            th.drawText = {
                text: Mgm.points,
                x: -20,
                y: 30,
            }
        }

        Mgm.object.ball = {
            pic: 'Images/a3.png',
            x: Mgm.random(-400, 400),
            y: Mgm.random(-400, 400),
            angle: Mgm.random(0, 360),
            sound: 'Sounds/sound1.wav',
            tmPoint: 0,
        }
        Mgm.object.ball.update = th => {
            th.bounce()
            th.step(10)
            if (th.contact('box')) {
                th.angle = Mgm.random(0, 360)
                th.soundPlay()
                if (th.tmPoint == 0) {
                    Mgm.points++
                    th.tmPoint = 30
                }
                th.hidden = true
            } else th.hidden = false
            if (th.tmPoint > 0) th.tmPoint--
        }

    </script>
</body>
</html>